name = "veten-restoran"
main = "functions/reserve.js"
compatibility_date = "2024-01-21"

# Configure the route for the worker
routes = [
  { pattern = "veten.az/api/*", script_name = "reserve" },
  { pattern = "www.veten.az/api/*", script_name = "reserve" },
]

# Environment variables (set these in Cloudflare dashboard or using wrangler secret put)
[vars]
# These will be set in Cloudflare dashboard
# SUPABASE_URL = ""
# SUPABASE_SERVICE_ROLE_KEY = ""
# TELEGRAM_BOT_TOKEN = ""
# TELEGRAM_CHAT_ID = ""

# Enable modules
[build.upload]
format = "modules"
main = "functions/reserve.js"

[build.upload.rules]
{ type = "ESModule", globs = ["**/*.js"] }
